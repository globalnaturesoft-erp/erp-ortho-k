<%
    group_name_colspan = (get_columns(params).include?("record_date") ? 1 : 0) +
        (get_columns(params).include?("voucher_date") ? 1 : 0) +
        (get_columns(params).include?("voucher_code") ? 1 : 0) +
        (get_columns(params).include?("related_order") ? 1 : 0) +
        (get_columns(params).include?("supplier_code") ? 1 : 0) +
        (get_columns(params).include?("supplier_name") ? 1 : 0) +
        (get_columns(params).include?("customer_code") ? 1 : 0) +
        (get_columns(params).include?("customer_name") ? 1 : 0)
%>

<tr>
    <%= "<td class=\"bg-grey bold font-blue-soft text-uppercase\" colspan='#{group_name_colspan}'>#{item[:group_name]}</td>".html_safe if group_name_colspan > 0 %>
    <% if get_columns(params).include?("code") %>
    <td class="bg-grey text-left text-nowrap font-blue-soft"></td>
    <% end %>
    <% if get_columns(params).include?("diameter") %>
    <td class="bg-grey text-left text-nowrap font-blue-soft"></td>
    <% end %>
    <% if get_columns(params).include?("category") %>
    <td class="bg-grey text-left text-nowrap font-blue-soft"></td>
    <% end %>
    <% if get_columns(params).include?("product_name") %>
    <td class="bg-grey text-left text-nowrap font-blue-soft"></td>
    <% end %>
    <% if get_columns(params).include?("description") %>
    <td class="bg-grey text-left text-nowrap font-blue-soft"></td>
    <% end %>
    <% if get_columns(params).include?("status") %>
    <td class="bg-grey text-left text-nowrap font-blue-soft"></td>
    <% end %>
    <% if get_columns(params).include?("warehouse") %>
    <td class="bg-grey text-left text-nowrap font-blue-soft"></td>
    <% end %>
    <% if get_columns(params).include?("unit") %>
    <td class="bg-grey text-left text-nowrap font-blue-soft"></td>
    <% end %>
    <% if get_columns(params).include?("quantity") %>
    <td class="bg-grey text-center stock-num font-blue-soft">
        <%= item[:quantity] %>
    </td>
    <% end %>
    <% if get_columns(params).include?("p_price") %>
    <td class="bg-grey text-right stock-num font-blue-soft"></td>
    <% end %>
    <% if get_columns(params).include?("p_amount") %>
    <td class="bg-grey text-right stock-num font-blue-soft">
        <%= format_number(item[:pay_subtotal]) %>
    </td>
    <% end %>
    <% if get_columns(params).include?("p_discount") %>
    <td class="bg-grey text-right stock-num font-blue-soft">
        <%= format_number(item[:pay_discount]) %>
    </td>
    <% end %>
    <% if get_columns(params).include?("p_tax_amount") %>
    <td class="bg-grey text-right stock-num font-blue-soft">
        <%= format_number(item[:pay_tax_amount]) %>
    </td>
    <% end %>
    <% if get_columns(params).include?("p_total") %>
    <td class="bg-grey text-right stock-num font-blue-soft">
        <%= format_number(item[:pay_total_amount]) %>
    </td>
    <% end %>
    <% if get_columns(params).include?("s_price") %>
    <td class="bg-grey text-right stock-num font-blue-soft"></td>
    <% end %>
    <% if get_columns(params).include?("s_amount") %>
    <td class="bg-grey text-right stock-num font-blue-soft">
        <%= format_number(item[:receive_subtotal]) %>
    </td>
    <% end %>
    <% if get_columns(params).include?("s_discount") %>
    <td class="bg-grey text-right stock-num font-blue-soft">
        <%= format_number(item[:receive_discount]) %>
    </td>
    <% end %>
    <% if get_columns(params).include?("s_tax_amount") %>
    <td class="bg-grey text-right stock-num font-blue-soft">
        <%= format_number(item[:receive_tax_amount]) %>
    </td>
    <% end %>
    <% if get_columns(params).include?("s_total") %>
    <td class="bg-grey text-right stock-num font-blue-soft">
        <%= format_number(item[:receive_total_amount]) %>
    </td>
    <% end %>
    <% if get_columns(params).include?("note") %>
    <td class="bg-grey text-left text-nowrap"></td>
    <% end %>
</tr>